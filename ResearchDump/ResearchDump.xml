<GuiXml>
  <Controls>
    <TopLevelControl name="ResearchDumpWindow"
                     clampedToScreen="true"
                     movable="true"
                     mouseEnabled="true"
                     keyboardEnabled="true"
                     hidden="true">
      <Dimensions x="1040" y="600" />
      <Anchor point="TOPRIGHT" relativeTo="GuiRoot" offsetX="-50" offsetY="80" />
      <!-- Keep if you're still using the ESC toggle handler -->
      <OnKeyDown>ResearchDump_OnKeyDown(self, key, ctrl, alt, shift, command)</OnKeyDown>

      <Controls>

        <!-- Backdrop -->
        <Backdrop name="$(parent)BG" inherits="ZO_DefaultBackdrop" />

        <!-- Title -->
        <Label name="$(parent)Title"
               font="ZoFontWinH1"
               color="INTERFACE_COLOR_TYPE_TEXT_COLORS:INTERFACE_TEXT_COLOR_HIGHLIGHT"
               text="ResearchDump">
          <Anchor point="TOPLEFT" offsetX="12" offsetY="12"/>
          <Anchor point="TOPRIGHT" offsetX="-48" offsetY="12"/>
        </Label>

        <!-- Close button -->
        <Button name="$(parent)Close" inherits="ZO_CloseButton">
          <Anchor point="TOPRIGHT" relativeTo="$(parent)" offsetX="-12" offsetY="10"/>
          <OnClicked>ResearchDump_Toggle()</OnClicked>
        </Button>

        <!-- ======================= LEFT COLUMN: Skill Levels ======================= -->
        <Control name="$(parent)LeftPane">
          <Dimensions x="260" />
          <Anchor point="TOPLEFT"   relativeTo="$(parent)Title" relativePoint="BOTTOMLEFT" offsetX="8"  offsetY="10"/>
          <Anchor point="BOTTOMLEFT" relativeTo="$(parent)"      relativePoint="BOTTOMLEFT" offsetX="8"  offsetY="-12"/>

          <Controls>
            <Label name="$(parent)SkillsHeader"
                   font="ZoFontWinH3"
                   text="Skill Levels">
              <Anchor point="TOPLEFT"  offsetX="0" offsetY="0"/>
              <Anchor point="TOPRIGHT" offsetX="0" offsetY="0"/>
            </Label>

            <!-- Keep this exact name; your Lua already fills it -->
            <Label name="ResearchDumpWindowBodySkills"
                   font="ZoFontGame"
                   wrapMode="NONE"
                   maxLineCount="0"
                   horizontalAlignment="LEFT"
                   verticalAlignment="TOP">
              <Anchor point="TOPLEFT"     relativeTo="$(parent)SkillsHeader" relativePoint="BOTTOMLEFT"  offsetX="0" offsetY="8"/>
              <Anchor point="BOTTOMRIGHT" relativeTo="$(parent)"             relativePoint="BOTTOMRIGHT" offsetX="0" offsetY="0"/>
            </Label>
          </Controls>
        </Control>

        <!-- ======================= MIDDLE COLUMN: Research Totals ======================= -->
        <Control name="$(parent)MiddlePane">
          <Anchor point="TOPLEFT"     relativeTo="$(parent)LeftPane" relativePoint="TOPRIGHT"    offsetX="8"  offsetY="0"/>
          <Anchor point="TOPRIGHT"    relativeTo="$(parent)"         relativePoint="TOPRIGHT"    offsetX="-320" offsetY="0"/>
          <Anchor point="BOTTOMLEFT"  relativeTo="$(parent)LeftPane" relativePoint="BOTTOMRIGHT" offsetX="8"  offsetY="0"/>
          <Anchor point="BOTTOMRIGHT" relativeTo="$(parent)"         relativePoint="BOTTOMRIGHT" offsetX="-320" offsetY="-12"/>

          <Controls>
            <!-- Keep this exact name; your Lua writes into its ScrollChild -->
            <Control name="ResearchDumpWindowResearchScroll" inherits="ZO_ScrollContainer">
              <Anchor point="TOPLEFT" offsetX="0" offsetY="0"/>
              <Anchor point="BOTTOMRIGHT" offsetX="0" offsetY="0"/>
            </Control>
          </Controls>
        </Control>

        <!-- ======================= RIGHT COLUMN: Items/Traits Needed ======================= -->
        <Control name="$(parent)RightPane">
          <Dimensions x="300" />
          <Anchor point="TOPRIGHT"    relativeTo="$(parent)" relativePoint="TOPRIGHT"    offsetX="-8"  offsetY="10"/>
          <Anchor point="BOTTOMRIGHT" relativeTo="$(parent)" relativePoint="BOTTOMRIGHT" offsetX="-8"  offsetY="-12"/>

          <Controls>
            <Label name="$(parent)TraitsHeader"
                   font="ZoFontWinH3"
                   text="Items / Traits Needed">
              <Anchor point="TOPLEFT"  offsetX="0" offsetY="0"/>
              <Anchor point="TOPRIGHT" offsetX="0" offsetY="0"/>
            </Label>

            <!-- New scroll for per-crafting missing traits/items.
                 Your Lua can GetNamedChild("ScrollChild") and populate it dynamically. -->
            <Control name="ResearchDumpWindowTraitsScroll" inherits="ZO_ScrollContainer">
              <Anchor point="TOPLEFT"     relativeTo="$(parent)TraitsHeader" relativePoint="BOTTOMLEFT" offsetX="0" offsetY="8"/>
              <Anchor point="BOTTOMRIGHT" offsetX="0" offsetY="0"/>
            </Control>
          </Controls>
        </Control>

      </Controls>
    </TopLevelControl>
  </Controls>
</GuiXml>
